extends layouts/layout

block content
	main(role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4")
		div(class="row")
			div(class="col-md-12")
				h2= subTitle
		div(class="row")
			div(class="col-md-12")
				p(class="error" id="error")= error
		div(class="row")
			div(class="col-md-10")
				form(action="/dashboard/article", method="POST")
					div(class="form-group")
						label(for="title") Titre de l'article
						if article
							input(type="text", name="title" id="title" class="form-control" value=`${article.title}`)
						else
							input(type="text", name="title" class="form-control")
					div(class="form-group")
						div(class="row")
							div(class="col-md-8")
								label(for="content") Contenue de l'article
								if article
									textarea(id="content" name="content", cols="30", rows="10" class="form-control" )= article.content
								else
									textarea(name="content", cols="30", rows="10" class="form-control")
							div(class="col-md-4")
								label(for="categories") Catégories
								select(id="categories" name="categories" class="selectpicker" multiple data-live-search="true" title="Selectionner Catégories")
									if categories && categories.length > 0
										each category in categories
											if article && category.id_article == article.id
												option(value=`${category.id}`, selected ) #{unescape(category.tag)}
											else
												option(value=`${category.id}`) #{unescape(category.tag)}
					div(class="col-md-6 d-flex justify-content-between")
						a(href="http://localhost:3000/dashboard" class="btn btn-dark") Annuler
						if article
							button(type="button" class="btn btn-dark" onClick=`javascript:putArticle(${article.id})`) Sauvegader
						else
							button(type="submit" class="btn btn-dark") Créer