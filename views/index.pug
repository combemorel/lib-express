extends layouts/layoutDefault

block content
	main(role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4")
		h1(class="mb-5") Bienvenue sur Lib-Express
		h2= subTitle
		h8 Filtre par Catégorie
		div(class="col-md-4")
			div(class="row")
				a(href=`http://localhost:3000/`)
					if (id_cat === 0)
						span(class="badge badge-secondary activeCat") Tous
					else
						span(class="badge badge-secondary ") Tous
				if categories && categories.length > 0
					each category in categories
						a(href=`http://localhost:3000/cat/${category.id}`)
							if id_cat === category.id
								span(class="badge badge-secondary activeCat" ) #{unescape(category.tag)}
							else
								span(class="badge badge-secondary " ) #{unescape(category.tag)}
		div(class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom")
			div(class="table-responsive")
				table(class="table table-striped table-sm")
					thead
						tr
							th(class="text-center") Titre
							th(class="text-center") Contenue
							th(class="text-center") Actions
					tbody
						if rows && rows.length > 0 && rows.length <= 25
						each row in rows
							tr
								td(class="tablerow d-flex justify-content-center" )= row.title
								td(class="tablerow" )
									p(id="contentView" class="d-flex justify-content-center") #{row.content}
								td(class="tablerow d-flex align-items-center justify-content-center" )
									a(href=`/article/${row.id}` class="btn btn-dark d-flex align-items-center") Voir
		if rows && rows.length == 25
		div(class="row d-flex flex-row-reverses")
			div(class="col-md-2 d-flex justify-content-between")
			if(page === 1)
				a(href="http://" class="btn btn-dark disabled" aria_disabled='true') Precedent
			else
				if(id_cat)
					a(href=`http://localhost:3000/cat/${id_cat}?page=${previousPage}` class="btn btn-dark ") Précédent
				else
					a(href=`http://localhost:3000/?page=${previousPage}` class="btn btn-dark ") Précédent
			if( count < page * limit )
				a(href="http://" class="btn btn-dark disabled" aria_disabled='true') Suivant
			else
				if(id_cat)
					a(href=`http://localhost:3000/cat/${id_cat}?page=${nextPage}` class="btn btn-dark ") Précédent
				else
					a(href=`http://localhost:3000/?page=${nextPage}` class="btn btn-dark") Suivant
